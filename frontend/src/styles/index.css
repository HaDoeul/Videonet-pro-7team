@tailwind base;
@tailwind components;
@tailwind utilities;

/* 기본 레이어 - HTML 요소들의 기본 스타일 설정 */
@layer base {
  /* 모든 요소에 부드러운 스크롤 적용 */
  html {
    scroll-behavior: smooth;
  }

  /* 기본 body 스타일 - Discord 다크 테마 */
  body {
    @apply bg-discord-dark text-gray-100;
    font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',
      'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',
      sans-serif;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  /* 스크롤바 커스터마이징 - Discord 스타일 */
  ::-webkit-scrollbar {
    width: 8px;
    height: 8px;
  }

  ::-webkit-scrollbar-track {
    @apply bg-discord-darker;
  }

  ::-webkit-scrollbar-thumb {
    @apply bg-gray-600 rounded-full;
  }

  ::-webkit-scrollbar-thumb:hover {
    @apply bg-gray-500;
  }
}

/* 컴포넌트 레이어 - 재사용 가능한 컴포넌트 스타일 */
@layer components {
  /* Discord 스타일 버튼 */
  .btn-discord {
    @apply px-4 py-2 bg-discord-brand text-white rounded-md 
           hover:bg-discord-brandHover transition-colors duration-200
           font-medium text-sm focus:outline-none focus:ring-2 
           focus:ring-discord-brand focus:ring-offset-2 
           focus:ring-offset-discord-dark;
  }

  /* Zoom 스타일 버튼 */
  .btn-zoom {
    @apply px-4 py-2 bg-zoom-blue text-white rounded-md 
           hover:bg-zoom-hover transition-colors duration-200
           font-medium text-sm focus:outline-none focus:ring-2 
           focus:ring-zoom-blue focus:ring-offset-2 
           focus:ring-offset-discord-dark;
  }

  /* 비디오 그리드 컨테이너 */
  .video-grid {
    @apply grid gap-2 p-4 h-full w-full;
  }

  /* 비디오 타일 */
  .video-tile {
    @apply relative bg-discord-darker rounded-lg overflow-hidden
           border border-gray-700 hover:border-gray-600 
           transition-all duration-200;
  }

  /* 사이드바 아이템 */
  .sidebar-item {
    @apply flex items-center px-3 py-2 rounded-md text-gray-400
           hover:bg-discord-hover hover:text-gray-100
           transition-all duration-200 cursor-pointer;
  }

  /* 채팅 메시지 */
  .chat-message {
    @apply flex items-start px-4 py-2 hover:bg-discord-hover
           transition-colors duration-200;
  }

  /* 입력 필드 */
  .input-field {
    @apply w-full px-3 py-2 bg-discord-darker text-gray-100
           border border-gray-700 rounded-md
           focus:outline-none focus:border-discord-brand
           placeholder-gray-500 transition-colors duration-200;
  }

  /* 모달 오버레이 */
  .modal-overlay {
    @apply fixed inset-0 bg-black bg-opacity-50 z-40
           flex items-center justify-center;
  }

  /* 모달 컨텐츠 */
  .modal-content {
    @apply bg-discord-light rounded-lg shadow-xl p-6
           max-w-md w-full mx-4 animate-scale-up;
  }
}

/* 유틸리티 레이어 - 특별한 유틸리티 클래스 */
@layer utilities {
  /* 텍스트 선택 방지 */
  .no-select {
    -webkit-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    user-select: none;
  }

  /* 드래그 방지 */
  .no-drag {
    -webkit-user-drag: none;
    -khtml-user-drag: none;
    -moz-user-drag: none;
    -o-user-drag: none;
    user-drag: none;
  }

  /* 부드러운 전환 효과 */
  .transition-smooth {
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  }

  /* 글로우 효과 */
  .glow {
    box-shadow: 0 0 20px rgba(88, 101, 242, 0.4);
  }

  /* 비디오 그리드 레이아웃 - 참가자 수에 따른 동적 그리드 */
  .grid-1 {
    grid-template-columns: 1fr;
  }

  .grid-2 {
    grid-template-columns: repeat(2, 1fr);
  }

  .grid-3, .grid-4 {
    grid-template-columns: repeat(2, 1fr);
  }

  .grid-5, .grid-6 {
    grid-template-columns: repeat(3, 1fr);
  }

  .grid-7, .grid-8, .grid-9 {
    grid-template-columns: repeat(3, 1fr);
  }

  .grid-10, .grid-11, .grid-12 {
    grid-template-columns: repeat(4, 1fr);
  }

  /* 큰 화면용 그리드 */
  @media (min-width: 1024px) {
    .grid-3 {
      grid-template-columns: repeat(3, 1fr);
    }
    
    .grid-4 {
      grid-template-columns: repeat(2, 1fr);
    }
    
    .grid-7, .grid-8 {
      grid-template-columns: repeat(4, 1fr);
    }
    
    .grid-9 {
      grid-template-columns: repeat(3, 1fr);
    }
  }
}

/* 애니메이션 관련 스타일 */
@keyframes pulse-dot {
  0%, 100% {
    opacity: 1;
  }
  50% {
    opacity: 0.5;
  }
}

.pulse-dot {
  animation: pulse-dot 1.5s cubic-bezier(0.4, 0, 0.6, 1) infinite;
}

/* 로딩 스피너 */
.spinner {
  border: 2px solid transparent;
  border-top-color: #5865f2;
  border-radius: 50%;
  animation: spin 0.6s linear infinite;
}

@keyframes spin {
  to {
    transform: rotate(360deg);
  }
}